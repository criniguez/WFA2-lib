###############################################################################
# Definitions
###############################################################################
FOLDER_BUILD=../build
CCP=g++
CXX_FLAGS=-O3 -std=c++17

###############################################################################
# Modules
###############################################################################
MODULES=genasm_cpu \
	    util

SRCS=$(addsuffix .cpp, $(MODULES))
OBJS=$(addprefix $(FOLDER_BUILD)/, $(SRCS:.cpp=.o))

###############################################################################
# Rules
###############################################################################
all: $(OBJS)

# General building rule
$(FOLDER_BUILD)/%.o : %.cpp
	$(CCP) $(CXX_FLAGS) -g -c $< -o $@